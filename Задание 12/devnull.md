# Задание №12. Вариант 3
# Оптимальное расписание. Стратегия разделения процессоров 
## Задание
Для каждого варианта представлены условия задачи. Для каждой задачи необходимо построить расписание, выполняемое в кратчайшие сроки: 
1. Для решения задачи применить Стратегию разделения процессоров, в решении отобразить ход выполнения алгоритма с **подробными комментариями**.
2. В ответе указать длительность полученного расписания.
3. В ответе вывести полученное расписание в виде диаграммы Ганта.

### Вариант 3:

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Длительность |  18 |  12 |  12 |  12 |  6  |


| Исполнители           |  1  |  2  |  3  |
|:----------------------|:---:|:---:|:---:|
| Производительность(p) |  6  |  4  |  2  |

## Решение

### 1.Расчёт минимальной возможной длительности расписания

#### Сначала найдём теоретический минимум

Суммарный объём работ: 
$V_{sum}$ = 18 + 12 + 12 + 12 + 6 = 60

Суммарная производительность исполнителей: 
$p_{sum}$ = 6 + 4 + 2 = 12

Тогда минимальная возможная длительность:

$$  
T_{min} = \frac {V_1 + V_2 + ... + V_n}{p_1 + p_2 + ... + p_k} = \frac {60}{12} = 5 {единиц} {времени} 
$$  

### 2.Построение оптимального расписания

Приоритет задачи - это просто её оставшийся объём: чем он больше, тем задача важнее и тем скорее её должен делать быстрый исполнитель. Исполнители могут переключаться между задачами, поэтому расписание строится по событиям: от одного момента завершения задачи или изменения приоритетов до следующего

#### 2.1.Интервал времени [0;1.5]

Начальные приоритеты:

| Задача  | Объем   |
|:--------|:-------:|
| A       |  18     |
| B       |  12     |
| C       |  12     |
| D       |  12     |
| E       |  6      |

Исполнители по скорости:

| Исполнители        |  1  |  2  |  3  |
|:-------------------|:---:|:---:|:---:|
| Производительность |  6  |  4  |  2  |

Самый высокий приоритет - у задача A, ей назначаем самого быстрого исполнителя 1

Следующий приоритет - у трёх задачи B, C, D

Исполнители 2 и 3 работают совместно над задачами B, C, D

Их суммарная производительность: 4 + 2 = 6

Чтобы сохранить равные приоритеты B, C, D, делим 6 поровну: 6 / 3 = 2

Функции убывания на первом интервале:

1. A = 18 - 6t
2. B = 12 - 2t
3. C = 12 - 2t
4. D = 12 - 2t
5. E = 6 (пока не выполняем) 

Теперь ищем событие, когда приоритеты сравняются:

18 - 6t = 12 - 2t 

6 = 4t => t = 1.5

В момент t = 1.5:

| Задача  | Остаток |
|:--------|:-------:|
| A       |  9      |
| B       |  9      |
| C       |  9      |
| D       |  9      |
| E       |  6      |

#### 2.2.Интервал времени [1.5; 2.5]

Теперь четыре задачи A, B, C, D имеют одинаковый приоритет 9

Все исполнители работают на группу A, B, C, D

Суммарная производительность: 6 + 4 + 2 = 12

Четыре задачи, где каждая убывает со скоростью: 12 / 4 = 3

Функции:

1. A = 9 - 3t
2. B = 9 - 3t
3. C = 9 - 3t
4. D = 9 - 3t
5. E = 6 

Ищем следующий момент сравнения приоритетов:

9 - 3t = 6 

3t = 3 => t = 1

Значит событие в момент: t = 1.5 + 1 = 2.5

| Задача  | Остаток |
|:--------|:-------:|
| A       |  6      |
| B       |  6      |
| C       |  6      |
| D       |  6      |
| E       |  6      |

#### 2.3.Интервал времени [2.5; 5]

Теперь 5 задач и суммарная скорость 12 (6 + 4 + 2)

Если разделить производительность поровну между всеми задачами, каждая будет убывать со скоростью: 

12 / 5 = 2.4

Время до завершения: 6 / 2.4 = 2.5

Тогда: 2.5 + 2.5 = 5 = $T_{min}$

То есть все задачи A, B, C, D, E завершаются ровно к моменту t = 5

### 3.Диаграмма Ганта

```mermaid
gantt
    title Диаграмма Ганта — Стратегия разделения процессоров, вариант 3
    dateFormat  HH:mm
    axisFormat  %H:%M
    todayMarker off

    Начало работ : milestone, m1, 00:00, 0h

    section Исполнитель 1
    Задача A            :a1, 00:00, 1.5h
    Задачи A,B,C,D      :a2, 01:30, 1h
    Все задачи          :a3, 02:30, 2.5h

    section Исполнитель 2
    Задачи B,C,D        :b1, 00:00, 1.5h
    Задачи A,B,C,D      :b2, 01:30, 1h
    Все задачи          :b3, 02:30, 2.5h

    section Исполнитель 3
    Задачи B,C,D        :c1, 00:00, 1.5h
    Задачи A,B,C,D      :c2, 01:30, 1h
    Все задачи          :c3, 02:30, 2.5h

    Окончание работ : milestone, m2, 05:00, 0h
```
