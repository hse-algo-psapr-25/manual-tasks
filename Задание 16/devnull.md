# Задание №16
# Задача о максимальном потоке.

Для выполнения задания необходимо: 
1. Построить сеть с указанием пропускной способности дуг
2. Построить остаточную сеть
3. Определить максимальный поток методом поиска увеличивающих путей в остаточной сети
4. Проверить величину максимального потока через поиск минимальной пропускной способности разрезов сети, то есть рассчитать пропускную способность всех разрезов сети
5. Оформить решение задачи по шагам с подробными комментариями, таблицами и диаграммами
6. В ответе указать максимальную величину потока и как это поток можно организовать, то есть изобразить сеть с указанием соответствующих локальных потоков

### Вариант 2:
#### Пропускная способность дуг сети:

|          Дуги          | sa | sc | sd | ab | cb | dc | bt | ct | dt |
|:----------------------:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
| Пропускная способность | 6  | 4  | 8  | 4  | 5  | 2  | 9  | 3  | 5  |

## Решение

### 1. Построим сеть с источником **s**, стоком **t** и указанными пропускными способностями дуг.

<img width="850" height="703" alt="image" src="https://github.com/user-attachments/assets/4a826b90-75a5-404f-9b26-96ebf5396021" />

Построим остаточную сеть. Так как изначально поток в сети не задан, все дуги сети являются пустыми (локальный поток равен нулю), соответственно в остаточную сеть необходимо вынести обратную дугу с весом равным пропускной способности. 

<img width="511" height="451" alt="image" src="https://github.com/user-attachments/assets/61a085e2-dafa-44bf-9a4c-20d4b3b3fc35" />

### 2. Проведем поиск увеличивающего пути в остаточной сети
В остаточной сети найден увеличивающий путь t -> d -> s. Минимальный вес дуг на этом пути равен 5.

<img width="540" height="417" alt="image" src="https://github.com/user-attachments/assets/cbb57381-f3c7-4fe9-bff9-723196b83a73" />

Уменьшим вес дуг на найденном пути, дуги для которых вес стал нулевым удалим из остаточной сети.

<img width="539" height="513" alt="image" src="https://github.com/user-attachments/assets/869ec258-c8ca-49d7-8764-44e13f793b9f" />

Скорректируем соответствующим образом локальные потоки в исходной сети. Первым числом будем указывать локальный поток, вторым пропускную способность дуги. 

<img width="815" height="652" alt="image" src="https://github.com/user-attachments/assets/81e01399-0b71-4e7d-bdac-e0122c831d71" />

### 3. Продолжим поиск увеличивающего пути в остаточной сети

<img width="523" height="493" alt="image" src="https://github.com/user-attachments/assets/e473e45e-71d2-495a-828b-6ec2e5863625" />

В остаточной сети найден увеличивающий путь t -> b -> a -> s. Минимальный вес дуг на этом пути равен 4.

Уменьшим вес дуг на найденном пути, дуги для которых вес стал нулевым удалим из остаточной сети.

<img width="571" height="459" alt="image" src="https://github.com/user-attachments/assets/75d385d7-8e73-4abe-87f4-38d445bcf78e" />

Скорректируем соответствующим образом локальные потоки в исходной сети.

<img width="516" height="406" alt="image" src="https://github.com/user-attachments/assets/d6cbee16-8c4c-4273-ae51-8cbbdd0c7fc5" />

### 4. Продолжим поиск увеличивающего пути в остаточной сети

<img width="654" height="541" alt="image" src="https://github.com/user-attachments/assets/f956f2fc-0898-4b95-8abe-282bf6de0d14" />

В остаточной сети найден увеличивающий путь t -> c -> d -> s. Минимальный вес дуг на этом пути равен 2.

Уменьшим вес дуг на найденном пути, дуги для которых вес стал нулевым удалим из остаточной сети.

<img width="572" height="483" alt="image" src="https://github.com/user-attachments/assets/c3f11248-667f-46c6-a503-73eeed345351" />

Скорректируем соответствующим образом локальные потоки в исходной сети.

<img width="540" height="430" alt="image" src="https://github.com/user-attachments/assets/0c4516f1-9487-4009-a0bd-1752eb3a2f2f" />

### 5. Продолжим поиск увеличивающего пути в остаточной сети

<img width="575" height="490" alt="image" src="https://github.com/user-attachments/assets/64fec2fc-f64f-47f6-a7b2-bc81dc29a663" />

В остаточной сети найден увеличивающий путь t -> c -> s. Минимальный вес дуг на этом пути равен 1.

Уменьшим вес дуг на найденном пути, дуги для которых вес стал нулевым удалим из остаточной сети.

<img width="553" height="460" alt="image" src="https://github.com/user-attachments/assets/e5fc70a8-9a0e-48a7-9620-0ba3f28deca5" />

Скорректируем соответствующим образом локальные потоки в исходной сети.

<img width="524" height="425" alt="image" src="https://github.com/user-attachments/assets/758347dd-6376-4c73-83c4-203375048c9b" />

### 6. Продолжим поиск увеличивающего пути в остаточной сети

<img width="565" height="477" alt="image" src="https://github.com/user-attachments/assets/273caafb-f41c-4c91-a559-81e1b5974357" />

В остаточной сети найден увеличивающий путь t -> b -> c -> s. Минимальный вес дуг на этом пути равен 3.

Уменьшим вес дуг на найденном пути, дуги для которых вес стал нулевым удалим из остаточной сети.

<img width="571" height="487" alt="image" src="https://github.com/user-attachments/assets/25352e8c-7dfe-424f-9c4c-47ab0a3cd1df" />

Скорректируем соответствующим образом локальные потоки в исходной сети.

<img width="522" height="424" alt="image" src="https://github.com/user-attachments/assets/50a29b94-8d90-4850-a63c-b4027f2b3315" />

### 5. Продолжим поиск увеличивающего пути в остаточной сети
В остаточной сети не найдено увеличивающих путей, следовательно, алгоритм завершил работу и найденный поток величиной 15 является максимальным для данной сети.

<img width="624" height="515" alt="image" src="https://github.com/user-attachments/assets/e25c7e04-84be-41e6-b94e-7307fd39f6dd" />

### 6. Проверим значение максимального потока перебором всех разрезов сети.
Разрез сети - разбиение множества вершин на два подмножества V<sub>1</sub> и V<sub>2</sub>, где во множество V<sub>1</sub> входит источник, а в V<sub>2</sub> входит сток.

Пропускная способность разреза - сумма пропускной способности дуг, начинающихся в вершинах из множества V<sub>1</sub> и оканчивающихся в вершинах из V<sub>2</sub>.

Для сети из _n_ вершин существует 2<sup>n - 2</sup> различных разрезов, так как две вершины из множества (источник и сток) "зафиксированы" в V<sub>1</sub> и V<sub>2</sub>, остальные вершины можно различными способами распределять между множествами V<sub>1</sub> и V<sub>2</sub>.

Для сети из 5 вершин нужно найти 2<sup>6 - 2</sup> = 2<sup>4</sup> = 16 разрезов. 

