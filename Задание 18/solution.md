# Задание №18
# Задача о рюкзаке. Метод ветвей и границ.

### Вариант 5:

| Предметы  |  A  | B  | C | D  | E  |
|:----------|:---:|:--:|:-:|:--:|:--:|
| Стоимость |  5  | 9  | 8 | 18 |  3 |
| Вес       | 10  | 9  | 4 | 6  | 12 |

Ограничение вместимости: 19

# Шаг 1. Рассчитаем ценность предметов (стоимость / вес)

| Предметы  |  A  | B  | C | D  | E    |
|:----------|:---:|:--:|:-:|:--:|:----:|
| Стоимость |  5  | 9  | 8 | 18 |  3   |
| Вес       | 10  | 9  | 4 | 6  | 12   |
| Ценность  | 0.5 | 1  | 2 | 3  | 0.25 |

# Шаг 2. Рассчитаем оценку перспективности для задачи

$$
3 * 19 = 57
$$

# Шаг 3. Начнем строить дерево (левый потомок - взяли D, правый - не взяли)

Перспективность левого потомка:
$$
18 + (19 - 6) * 2 = 44
$$

Перспективность правого потомка:
$$
19 * 2 = 38
$$

Получаем дерево:

``` mermaid
flowchart TD
A(57)
B(44)
C(38)
A -- +D--> B
A -- -D--> C

style B fill:#4f4f
```

# Шаг 4. Продолжаем стоить дерево из самой перспективной вершины

Левый потомок:
$$
18 + 8 + (19 - 6 - 4) * 1 = 35
$$

Правый потомок:
$$
18 + (19 - 6) * 1 = 31
$$

Получаем дерево:

``` mermaid
flowchart TD
A(57)
B(44)
C(38)
D(35)
E(31)
A -- +D--> B
A -- -D--> C
B -- +C--> D
B -- -C--> E

style C fill:#4f4f
```
# Шаг 5. Продолжаем строить дерево

Левый потомок:
$$
8 + (19 - 4) * 1 = 23
$$

Правый потомок:
$$
19 * 1 = 19
$$

Получаем дерево:

``` mermaid
flowchart TD
A(57)
B(44)
C(38)
D(35)
E(31)
F(23)
G(19)

A -- +D--> B
A -- -D--> C
B -- +C--> D
B -- -C--> E
C -- +C--> F
C -- -C--> G

style D fill:#4f4f
```

# Шаг 6. Продолжаем строить дерево

Левый потомок:
$$
18 + 8 + 9 + (19 - 6 - 4 - 9) * 0.5 = 35
$$

Сумма `19 - 6 - 4 - 9 = 0` => не можем взять еще один предмет

Правый потомок:
$$
18 + 8 + (19 - 6 - 4) * 0.5 = 30.5
$$

Получаем дерево:

``` mermaid
flowchart TD
A(57)
B(44)
C(38)
D(35)
E(31)
F(23)
G(19)
H(30.5)
I(35)

A -- +D--> B
A -- -D--> C
B -- +C--> D
B -- -C--> E
C -- +C--> F
C -- -C--> G
D -- -B--> H
D -- +B--> I

style I fill:#4f4f
```

Поскольку концевая вершина с оценкой 35 является наиболее перспективной и мы не можем продолжить дерево из нее (т.к. заполнено все место), она и является ответом.

# Ответ

В рюкзак попадут предметы D, C и B, максимальная стоимость рюкзака - `18 + 8 + 9 = 35`.