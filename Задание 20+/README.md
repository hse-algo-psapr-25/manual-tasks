# Задание №20+
# Задача о коммивояжере. Генетический алгоритм

**Дополнительное задание на повышенную оценку, по желанию. Задание выполняется дополнительно к основному заданию.**

Для каждого варианта представлены условия задачи, в соответствии с которыми необходимо: 
1. Решить задачу о рюкзаке с применением генетического алгоритма.
2. Оформить решение задачи по шагам с подробными комментариями, таблицами и диаграммами.
3. В ответе указать:
   - максимально возможную стоимость предметов в рюкзаке,
   - набор предметов, обеспечивающих максимальную стоимость,
   - общий вес предметов в рюкзаке,
   - свободное место в рюкзаке.

**Решение должно содержать номер варианта и подробное пошаговое описание.**

Условия задачи расположены в файле `Задание 20+/Варианты условий.md` в ветке main репозитория для ручных задач.
Решение задачи нужно оформить в формате Markdown в отдельном файле с названием <название_команды>.md, который добавить в каталог `Задание 20+` данного репозитория.

## Для выполнения задания необходимо:

1. Обновить ветку main в локальном репозитории (git pull).
2. От ветки main создать ветвь с названием `<название_команды>-task-20-plus`, заменив `<название_команды>` на название команды, решившей задание.
3. В созданной ветке в каталог `Задание 20` добавить файл с решением задачи с названием `<название_команды>.md`.
4. Зафиксировать изменения на ветке (git commit).
5. Отравить ветку с изменениями в репозиторий на Github (git push).
6. Создать на Github запрос на слияние (pull request), указав в качестве base ветки `main`, в качестве compare ветки `<название_команды>-task-20-plus`.

## Задача коммивояжера

### Постановка задачи
Есть N городов, связанных дорогами. Расстояния между городами известны. Коммивояжер (бродячий торговец) должен выйти из первого города, посетить по одному разу в некотором порядке города 2,3..n и вернуться в первый город. В каком порядке следует посещать города, чтобы замкнутый путь коммивояжера имел кратчайшее расстояние?

### Математическая модель
Для моделирования задачи можно использовать теорию графов. Города можно перенумеровать и представить в виде вершин графа, а рёбра (*i*, *j*) между вершинами *i* и *j* будут соответствовать пути между этими городами. Каждому ребру (*i*, *j*) можно сопоставить расстояние между городами С<sub>ij</sub> ⩾ 0. Таким образом, задачу можно сформулировать так: 

Дан полный граф с n вершинами, длина ребра (i,j)= С<sub>ij</sub>. Найти Гамильтонов цикл минимальной длины.

Гамильтоновым циклом называется маршрут, включающий ровно по одному разу каждую вершину графа.

### Генетический алгоритм

Для нахождения приближенного решения задачи коммивояжера можно использовать генетический алгоритм. Однако натуральная кодировка, в виде перестановки индексов вершин графа, не позволяет осуществлять скрещивание закодированных особей, т.к. в результате скрещивания не получается перестановки индексов. Альтернативная кодировка позволяет решить данную проблему.

### Пример альтернативного кодирования
Натуральный код особи x1: 14352

| x1                               |   |   |   |   |   |
|----------------------------------|---|---|---|---|---|
| натуральный код                  | 1 | 4 | 3 | 5 | 2 |
| возрастающая перестановка        | 1 | 2 | 3 | 4 | 5 |
| номера возрастающей перестановки | 1 | 2 | 3 | 4 | 5 |

Альтернативный код: 1

| x1                               |   |   |   |   |  
|----------------------------------|---|---|---|---|
| натуральный код                  | 4 | 3 | 5 | 2 |
| возрастающая перестановка        | 2 | 3 | 4 | 5 |
| номера возрастающей перестановки | 1 | 2 | 3 | 4 |

Альтернативный код: 13

| x1                               |   |   |   |  
|----------------------------------|---|---|---|
| натуральный код                  | 3 | 5 | 2 |
| возрастающая перестановка        | 2 | 3 | 5 |
| номера возрастающей перестановки | 1 | 2 | 3 |

Альтернативный код: 132

| x1                               |   |   |    
|----------------------------------|---|---|
| натуральный код                  | 5 | 2 |
| возрастающая перестановка        | 2 | 5 |
| номера возрастающей перестановки | 1 | 2 |

Альтернативный код: 1322

| x1                               |    |  
|----------------------------------|----|
| натуральный код                  | 2  |
| возрастающая перестановка        | 2  |
| номера возрастающей перестановки | 1  |

Альтернативный код особи x1: 13221

### Пример восстановления натурального кода
Альтернативный код: 13221

| x1                               |   |   |   |   |   |
|----------------------------------|---|---|---|---|---|
| альтернативный код               | 1 | 3 | 2 | 2 | 1 |
| возрастающая перестановка        | 1 | 2 | 3 | 4 | 5 |
| номера возрастающей перестановки | 1 | 2 | 3 | 4 | 5 |

Натуральный код: 1

| x1                               |   |   |   |   |
|----------------------------------|---|---|---|---|
| альтернативный код               | 3 | 2 | 2 | 1 |
| возрастающая перестановка        | 2 | 3 | 4 | 5 |
| номера возрастающей перестановки | 1 | 2 | 3 | 4 |

Натуральный код: 14

| x1                               |   |   |    | 
|----------------------------------|---|---|----|
| альтернативный код               | 2 | 2 | 1  |
| возрастающая перестановка        | 2 | 3 | 5  |
| номера возрастающей перестановки | 1 | 2 | 3  |

Натуральный код: 143

| x1                               |     |   |
|----------------------------------|-----|---|
| альтернативный код               | 2   | 1 |
| возрастающая перестановка        | 2   | 5 |
| номера возрастающей перестановки | 1   | 2 |

Натуральный код: 1435

| x1                               |    | 
|----------------------------------|----|
| альтернативный код               | 1  |
| возрастающая перестановка        | 2  |
| номера возрастающей перестановки | 1  |

Натуральный код: 14352